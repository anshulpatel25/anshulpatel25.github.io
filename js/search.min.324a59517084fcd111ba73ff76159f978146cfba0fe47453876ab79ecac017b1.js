let url="/index.json",posts={};function getIndexData(e,t){let n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE){const e=n.status;e===0||e>=200&&e<400?t(JSON.parse(n.responseText)):(console.log("ERROR: Error fetching data ...."),t({}))}},n.send()}function updatePosts(e){posts=e}getIndexData(url,updatePosts);function buildIndex(e){return lunr(function(){this.ref("title"),this.field("content"),e.forEach(function(e){this.add(e)},this)})}function showSearchResults(){let n=document.getElementById("search-input").value||"",e=n.replace(/[^\w\s]/gi,""),s=posts.reduce((e,t)=>(e[t.title]=t,e),{}),o=buildIndex(posts),t=document.getElementById("list");if(e&&e!=""){let i=o.search(e),n=[];i.forEach(e=>{n.push(s[e.ref])}),n.length>0?t.innerHTML=n.map(function(e){if(e!=null){return`<li><a href="${e.uri}">${e.title}</a></li>`;console.log(e)}}).join(""):t.innerHTML=`<br><h2 style="text-align:center">No search results found</h2>`}else t.innerHTML=""}